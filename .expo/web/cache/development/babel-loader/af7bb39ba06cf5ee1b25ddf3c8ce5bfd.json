{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { CartItemsContext } from \"../context/CartItems\";\nimport { Breadcrumb } from \"../components/breadcrumb\";\nimport { useNavigation } from '@react-navigation/native';\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function ShoppingCart() {\n  var navigation = useNavigation();\n  var _useContext = useContext(CartItemsContext),\n    items = _useContext.items,\n    getTotalPrice = _useContext.getTotalPrice;\n  function Totals() {\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      total = _useState2[0],\n      setTotal = _useState2[1];\n    useEffect(function () {\n      setTotal(getTotalPrice());\n    });\n    return _jsxs(View, {\n      style: styles.cartLineTotal,\n      children: [_jsx(Text, {\n        style: [styles.lineLeft, styles.lineTotal],\n        children: \"Total\"\n      }), _jsxs(Text, {\n        style: styles.lineRight,\n        children: [\"PLN \", total.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')]\n      })]\n    });\n  }\n  var handlePress = function handlePress() {};\n  function renderItem(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      style: styles.cartLine,\n      children: [_jsx(Text, {\n        style: styles.lineLeft,\n        children: _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            navigation.navigate('ProductDetails', {\n              productId: item.id\n            });\n          },\n          children: _jsx(Image, {\n            source: item.product.image,\n            style: {\n              resizeMode: 'center',\n              height: 50,\n              width: 70\n            }\n          })\n        })\n      }), _jsxs(Text, {\n        children: [item.product.name, \" \", _jsx(\"br\", {}), \"Quantity: \", item.qty, \" \", _jsx(\"br\", {}), \"Remove Item \", _jsx(Icon, {\n          name: 'delete-circle',\n          size: 25,\n          color: '#7fad39',\n          style: styles.deleteItem\n        })]\n      }), _jsxs(Text, {\n        style: styles.lineRight,\n        children: [\"PLN \", item.totalPrice.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')]\n      })]\n    });\n  }\n  return _jsxs(_Fragment, {\n    children: [_jsx(Breadcrumb, {\n      name: 'My Bag Items'\n    }), items.length > 0 ? _jsx(FlatList, {\n      style: styles.itemsList,\n      contentContainerStyle: styles.itemsListContainer,\n      data: items,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.product.id.toString();\n      },\n      ListFooterComponent: Totals\n    }) : _jsx(Text, {\n      style: styles.emptyContainer,\n      children: \"Empty Cart!\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  cartCntr: {\n    backgroundColor: '#ffffff',\n    height: '100%'\n  },\n  cartLine: {\n    flexDirection: 'row',\n    backgroundColor: '#ffffff',\n    margin: 6,\n    padding: 10,\n    fontFamily: 'arial',\n    color: '#666',\n    borderRadius: 16,\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n    shadowColor: 'black',\n    shadowOffset: {\n      height: 0,\n      width: 0\n    },\n    elevation: 1\n  },\n  cartLineTotal: {\n    flexDirection: 'row',\n    borderTopColor: '#dddddd',\n    borderTopWidth: 1,\n    margin: 10,\n    padding: 10\n  },\n  lineTotal: {\n    fontWeight: 'bold'\n  },\n  lineLeft: {\n    fontSize: 14,\n    color: '#000'\n  },\n  lineRight: {\n    flex: 1,\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#333333',\n    textAlign: 'right',\n    textAlignVertical: 'center'\n  },\n  itemsList: {\n    backgroundColor: '#ffffff'\n  },\n  itemsListContainer: {\n    backgroundColor: '#ffffff'\n  },\n  emptyContainer: {\n    backgroundColor: '#ffffff',\n    height: '100%',\n    padding: 20\n  },\n  deleteItem: deleteItem\n});","map":{"version":3,"names":["React","useEffect","useState","useContext","CartItemsContext","Breadcrumb","useNavigation","Icon","ShoppingCart","navigation","items","getTotalPrice","Totals","total","setTotal","styles","cartLineTotal","lineLeft","lineTotal","lineRight","toFixed","replace","handlePress","renderItem","item","cartLine","navigate","productId","id","product","image","resizeMode","height","width","name","qty","deleteItem","totalPrice","length","itemsList","itemsListContainer","toString","emptyContainer","StyleSheet","create","cartCntr","backgroundColor","flexDirection","margin","padding","fontFamily","color","borderRadius","shadowOpacity","shadowRadius","shadowColor","shadowOffset","elevation","borderTopColor","borderTopWidth","fontWeight","fontSize","flex","textAlign","textAlignVertical"],"sources":["C:/Users/jnithyan/Development/react-native/eshopping/screens/ShoppingCart.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity } from 'react-native';\r\n\r\nimport { CartItemsContext } from '../context/CartItems';\r\nimport { Breadcrumb } from '../components/breadcrumb';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\nexport function ShoppingCart () {\r\n  const navigation = useNavigation();\r\n  const {items, getTotalPrice} = useContext(CartItemsContext);\r\n\r\n  function Totals() {\r\n    let [total, setTotal] = useState(0);\r\n    useEffect(() => {\r\n      setTotal(getTotalPrice());\r\n    });\r\n    return (\r\n       <View style={styles.cartLineTotal}>\r\n          <Text style={[styles.lineLeft, styles.lineTotal]}>Total</Text>\r\n          <Text style={styles.lineRight}>PLN {total.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')}</Text>\r\n       </View>\r\n    );\r\n  }\r\n  const handlePress = () => {\r\n    // some logic random the image\r\n  }\r\n  function renderItem({item}) {\r\n    return (\r\n        <View style={styles.cartLine}>\r\n            <Text style={styles.lineLeft}>\r\n              <TouchableOpacity onPress={() => {\r\n                navigation.navigate('ProductDetails', {\r\n                  productId: item.id,\r\n                });\r\n              }}>\r\n                <Image\r\n                source={item.product.image}\r\n                style={{\r\n                resizeMode: 'center',\r\n                height: 50,\r\n                width: 70,\r\n                }}\r\n                /> \r\n                </TouchableOpacity>\r\n            </Text> \r\n            <Text>\r\n                {item.product.name} <br></br>Quantity: {item.qty} <br></br>\r\n                Remove Item <Icon \r\n                  name={'delete-circle'}\r\n                  size={25}\r\n                  color={'#7fad39'}\r\n                  style={styles.deleteItem}\r\n                  />\r\n            </Text>\r\n            <Text style={styles.lineRight}>PLN {item.totalPrice.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')}</Text>\r\n    </View>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <>\r\n        <Breadcrumb name={'My Bag Items'} />\r\n        { items.length > 0 ?\r\n            <FlatList\r\n            style={styles.itemsList}\r\n            contentContainerStyle={styles.itemsListContainer}\r\n            data={items}\r\n            renderItem={renderItem}\r\n            keyExtractor={(item) => item.product.id.toString()}\r\n            ListFooterComponent={Totals}\r\n            /> : <Text style={styles.emptyContainer}>Empty Cart!</Text>\r\n        }\r\n        \r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  cartCntr: {\r\n    backgroundColor: '#ffffff',\r\n    height: '100%'\r\n  },\r\n  cartLine: { \r\n    flexDirection: 'row',\r\n    backgroundColor: '#ffffff',\r\n      margin: 6,\r\n      padding: 10,\r\n      fontFamily: 'arial',\r\n      color: '#666',\r\n      borderRadius: 16,\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 4,\r\n    shadowColor: 'black',\r\n    shadowOffset: {\r\n      height: 0,\r\n      width: 0,\r\n    },\r\n    elevation: 1,\r\n  },\r\n  cartLineTotal: { \r\n    flexDirection: 'row',\r\n    borderTopColor: '#dddddd',\r\n    borderTopWidth: 1,\r\n    margin: 10,\r\n    padding: 10\r\n  },\r\n  lineTotal: {\r\n    fontWeight: 'bold',    \r\n  },\r\n  lineLeft: {\r\n    fontSize: 14,  \r\n    color:'#000',\r\n  },\r\n  lineRight: { \r\n    flex: 1,\r\n    fontSize: 14, \r\n    fontWeight: 'bold', \r\n    color:'#333333', \r\n    textAlign:'right',\r\n    textAlignVertical: 'center'\r\n  },\r\n  itemsList: {\r\n    backgroundColor: '#ffffff',\r\n  },\r\n  itemsListContainer: {\r\n    backgroundColor: '#ffffff',\r\n  },\r\n  emptyContainer: {\r\n    backgroundColor: '#ffffff',\r\n    height: '100%',\r\n    padding: 20\r\n  },\r\n  deleteItem\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}