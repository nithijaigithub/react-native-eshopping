{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState } from 'react';\nimport { getProduct } from \"../services/productService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var CartItemsContext = createContext();\nexport function CartItemsProvider(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    items = _useState2[0],\n    setItems = _useState2[1];\n  function addItemToCart(id) {\n    var product = getProduct(id);\n    setItems(function (prevItems) {\n      var item = prevItems.find(function (item) {\n        return item.id == id;\n      });\n      if (!item) {\n        return [].concat(_toConsumableArray(prevItems), [{\n          id: id,\n          qty: 1,\n          product: product,\n          totalPrice: product.price\n        }]);\n      } else {\n        return prevItems.map(function (item) {\n          if (item.id == id) {\n            item.qty++;\n            item.totalPrice += product.price;\n          }\n          return item;\n        });\n      }\n    });\n  }\n  function getItemsCount() {\n    return items.reduce(function (sum, item) {\n      return sum + item.qty;\n    }, 0);\n  }\n  function getTotalPrice() {\n    return items.reduce(function (sum, item) {\n      return sum + item.totalPrice;\n    }, 0);\n  }\n  return _jsx(CartItemsContext.Provider, {\n    value: {\n      items: items,\n      setItems: setItems,\n      getItemsCount: getItemsCount,\n      addItemToCart: addItemToCart,\n      getTotalPrice: getTotalPrice\n    },\n    children: props.children\n  });\n}","map":{"version":3,"names":["React","createContext","useState","getProduct","CartItemsContext","CartItemsProvider","props","items","setItems","addItemToCart","id","product","prevItems","item","find","qty","totalPrice","price","map","getItemsCount","reduce","sum","getTotalPrice","children"],"sources":["C:/Users/jnithyan/Development/react-native/eshopping/context/cartItems.js"],"sourcesContent":["import React, {createContext, useState} from 'react';\r\n\r\nimport { getProduct } from '../services/productService';\r\n\r\nexport const CartItemsContext = createContext();\r\n\r\nexport function CartItemsProvider(props) {\r\n  const [items, setItems] = useState([]);\r\n  \r\n  function addItemToCart(id) {\r\n    const product = getProduct(id);\r\n    setItems((prevItems) => {\r\n      const item = prevItems.find((item) => (item.id == id));\r\n      if(!item) {\r\n          return [...prevItems, {\r\n              id,\r\n              qty: 1,\r\n              product,\r\n              totalPrice: product.price \r\n          }];\r\n      }\r\n      else { \r\n          return prevItems.map((item) => {\r\n            if(item.id == id) {\r\n              item.qty++;\r\n              item.totalPrice += product.price;\r\n            }\r\n            return item;\r\n          });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  function getItemsCount() {\r\n      return items.reduce((sum, item) => (sum + item.qty), 0);\r\n  }\r\n  \r\n  function getTotalPrice() {\r\n      return items.reduce((sum, item) => (sum + item.totalPrice), 0);\r\n  }  \r\n  \r\n  return (\r\n    <CartItemsContext.Provider \r\n      value={{items, setItems, getItemsCount, addItemToCart, getTotalPrice}}>\r\n      {props.children}\r\n    </CartItemsContext.Provider>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAAEC,QAAQ,QAAO,OAAO;AAEpD,SAASC,UAAU;AAAqC;AAExD,OAAO,IAAMC,gBAAgB,GAAGH,aAAa,EAAE;AAE/C,OAAO,SAASI,iBAAiB,CAACC,KAAK,EAAE;EACvC,gBAA0BJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BK,KAAK;IAAEC,QAAQ;EAEtB,SAASC,aAAa,CAACC,EAAE,EAAE;IACzB,IAAMC,OAAO,GAAGR,UAAU,CAACO,EAAE,CAAC;IAC9BF,QAAQ,CAAC,UAACI,SAAS,EAAK;MACtB,IAAMC,IAAI,GAAGD,SAAS,CAACE,IAAI,CAAC,UAACD,IAAI;QAAA,OAAMA,IAAI,CAACH,EAAE,IAAIA,EAAE;MAAA,CAAC,CAAC;MACtD,IAAG,CAACG,IAAI,EAAE;QACN,oCAAWD,SAAS,IAAE;UAClBF,EAAE,EAAFA,EAAE;UACFK,GAAG,EAAE,CAAC;UACNJ,OAAO,EAAPA,OAAO;UACPK,UAAU,EAAEL,OAAO,CAACM;QACxB,CAAC;MACL,CAAC,MACI;QACD,OAAOL,SAAS,CAACM,GAAG,CAAC,UAACL,IAAI,EAAK;UAC7B,IAAGA,IAAI,CAACH,EAAE,IAAIA,EAAE,EAAE;YAChBG,IAAI,CAACE,GAAG,EAAE;YACVF,IAAI,CAACG,UAAU,IAAIL,OAAO,CAACM,KAAK;UAClC;UACA,OAAOJ,IAAI;QACb,CAAC,CAAC;MACN;IACF,CAAC,CAAC;EAEJ;EAEA,SAASM,aAAa,GAAG;IACrB,OAAOZ,KAAK,CAACa,MAAM,CAAC,UAACC,GAAG,EAAER,IAAI;MAAA,OAAMQ,GAAG,GAAGR,IAAI,CAACE,GAAG;IAAA,CAAC,EAAE,CAAC,CAAC;EAC3D;EAEA,SAASO,aAAa,GAAG;IACrB,OAAOf,KAAK,CAACa,MAAM,CAAC,UAACC,GAAG,EAAER,IAAI;MAAA,OAAMQ,GAAG,GAAGR,IAAI,CAACG,UAAU;IAAA,CAAC,EAAE,CAAC,CAAC;EAClE;EAEA,OACE,KAAC,gBAAgB,CAAC,QAAQ;IACxB,KAAK,EAAE;MAACT,KAAK,EAALA,KAAK;MAAEC,QAAQ,EAARA,QAAQ;MAAEW,aAAa,EAAbA,aAAa;MAAEV,aAAa,EAAbA,aAAa;MAAEa,aAAa,EAAbA;IAAa,CAAE;IAAA,UACrEhB,KAAK,CAACiB;EAAQ,EACW;AAEhC"},"metadata":{},"sourceType":"module"}