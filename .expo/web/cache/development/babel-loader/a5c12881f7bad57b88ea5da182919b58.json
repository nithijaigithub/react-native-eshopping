{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"style\", \"theme\"],\n  _excluded2 = [\"elevation\", \"children\", \"theme\", \"style\", \"testID\"],\n  _excluded3 = [\"position\", \"alignSelf\", \"top\", \"left\", \"right\", \"bottom\", \"start\", \"end\", \"flex\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useInternalTheme } from \"../core/theming\";\nimport overlay, { isAnimatedValue } from \"../styles/overlay\";\nimport shadow from \"../styles/shadow\";\nimport { forwardRef } from \"../utils/forwardRef\";\nvar MD2Surface = forwardRef(function (_ref, ref) {\n  var style = _ref.style,\n    overrideTheme = _ref.theme,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _ref3 = StyleSheet.flatten(style) || {},\n    _ref3$elevation = _ref3.elevation,\n    elevation = _ref3$elevation === void 0 ? 4 : _ref3$elevation;\n  var _useInternalTheme = useInternalTheme(overrideTheme),\n    isDarkTheme = _useInternalTheme.dark,\n    mode = _useInternalTheme.mode,\n    colors = _useInternalTheme.colors;\n  return React.createElement(Animated.View, _extends({\n    ref: ref\n  }, rest, {\n    style: [{\n      backgroundColor: isDarkTheme && mode === 'adaptive' ? overlay(elevation, colors === null || colors === void 0 ? void 0 : colors.surface) : colors === null || colors === void 0 ? void 0 : colors.surface\n    }, elevation ? shadow(elevation) : null, style]\n  }));\n});\nvar Surface = forwardRef(function (_ref2, ref) {\n  var _ref2$elevation = _ref2.elevation,\n    elevation = _ref2$elevation === void 0 ? 1 : _ref2$elevation,\n    children = _ref2.children,\n    overridenTheme = _ref2.theme,\n    style = _ref2.style,\n    _ref2$testID = _ref2.testID,\n    testID = _ref2$testID === void 0 ? 'surface' : _ref2$testID,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  var theme = useInternalTheme(overridenTheme);\n  if (!theme.isV3) return React.createElement(MD2Surface, _extends({}, props, {\n    theme: theme,\n    style: style,\n    ref: ref\n  }), children);\n  var colors = theme.colors;\n  var inputRange = [0, 1, 2, 3, 4, 5];\n  var backgroundColor = function () {\n    var _colors$elevation2;\n    if (isAnimatedValue(elevation)) {\n      return elevation.interpolate({\n        inputRange: inputRange,\n        outputRange: inputRange.map(function (elevation) {\n          var _colors$elevation;\n          return (_colors$elevation = colors.elevation) === null || _colors$elevation === void 0 ? void 0 : _colors$elevation[\"level\" + elevation];\n        })\n      });\n    }\n    return (_colors$elevation2 = colors.elevation) === null || _colors$elevation2 === void 0 ? void 0 : _colors$elevation2[\"level\" + elevation];\n  }();\n  if (Platform.OS === 'web') {\n    return React.createElement(Animated.View, _extends({}, props, {\n      ref: ref,\n      testID: testID,\n      style: [{\n        backgroundColor: backgroundColor\n      }, elevation ? shadow(elevation, theme.isV3) : null, style]\n    }), children);\n  }\n  if (Platform.OS === 'android') {\n    var elevationLevel = [0, 3, 6, 9, 12, 15];\n    var getElevationAndroid = function getElevationAndroid() {\n      if (isAnimatedValue(elevation)) {\n        return elevation.interpolate({\n          inputRange: inputRange,\n          outputRange: elevationLevel\n        });\n      }\n      return elevationLevel[elevation];\n    };\n    var _ref4 = StyleSheet.flatten(style) || {},\n      margin = _ref4.margin,\n      padding = _ref4.padding,\n      transform = _ref4.transform,\n      borderRadius = _ref4.borderRadius;\n    var outerLayerStyles = {\n      margin: margin,\n      padding: padding,\n      transform: transform,\n      borderRadius: borderRadius\n    };\n    var _sharedStyle = [{\n      backgroundColor: backgroundColor\n    }, style];\n    return React.createElement(Animated.View, _extends({}, props, {\n      testID: testID,\n      ref: ref,\n      style: [{\n        backgroundColor: backgroundColor,\n        transform: transform\n      }, outerLayerStyles, _sharedStyle, {\n        elevation: getElevationAndroid()\n      }]\n    }), children);\n  }\n  var iOSShadowOutputRanges = [{\n    shadowOpacity: 0.15,\n    height: [0, 1, 2, 4, 6, 8],\n    shadowRadius: [0, 3, 6, 8, 10, 12]\n  }, {\n    shadowOpacity: 0.3,\n    height: [0, 1, 1, 1, 2, 4],\n    shadowRadius: [0, 1, 2, 3, 3, 4]\n  }];\n  var shadowColor = '#000';\n  var _ref5 = StyleSheet.flatten(style) || {},\n    position = _ref5.position,\n    alignSelf = _ref5.alignSelf,\n    top = _ref5.top,\n    left = _ref5.left,\n    right = _ref5.right,\n    bottom = _ref5.bottom,\n    start = _ref5.start,\n    end = _ref5.end,\n    flex = _ref5.flex,\n    restStyle = _objectWithoutProperties(_ref5, _excluded3);\n  var absoluteStyles = {\n    position: position,\n    alignSelf: alignSelf,\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    start: start,\n    end: end\n  };\n  var sharedStyle = [{\n    backgroundColor: backgroundColor,\n    flex: flex\n  }, restStyle];\n  var innerLayerViewStyles = [{\n    flex: flex\n  }];\n  var outerLayerViewStyles = [absoluteStyles, innerLayerViewStyles];\n  if (isAnimatedValue(elevation)) {\n    var _inputRange = [0, 1, 2, 3, 4, 5];\n    var getStyleForAnimatedShadowLayer = function getStyleForAnimatedShadowLayer(layer) {\n      return {\n        shadowColor: shadowColor,\n        shadowOpacity: elevation.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, iOSShadowOutputRanges[layer].shadowOpacity],\n          extrapolate: 'clamp'\n        }),\n        shadowOffset: {\n          width: 0,\n          height: elevation.interpolate({\n            inputRange: _inputRange,\n            outputRange: iOSShadowOutputRanges[layer].height\n          })\n        },\n        shadowRadius: elevation.interpolate({\n          inputRange: _inputRange,\n          outputRange: iOSShadowOutputRanges[layer].shadowRadius\n        })\n      };\n    };\n    return React.createElement(Animated.View, {\n      style: [getStyleForAnimatedShadowLayer(0), outerLayerViewStyles],\n      testID: testID + \"-outer-layer\"\n    }, React.createElement(Animated.View, {\n      style: [getStyleForAnimatedShadowLayer(1), innerLayerViewStyles],\n      testID: testID + \"-inner-layer\"\n    }, React.createElement(Animated.View, _extends({}, props, {\n      testID: testID,\n      style: sharedStyle\n    }), children)));\n  }\n  var getStyleForShadowLayer = function getStyleForShadowLayer(layer) {\n    return {\n      shadowColor: shadowColor,\n      shadowOpacity: elevation ? iOSShadowOutputRanges[layer].shadowOpacity : 0,\n      shadowOffset: {\n        width: 0,\n        height: iOSShadowOutputRanges[layer].height[elevation]\n      },\n      shadowRadius: iOSShadowOutputRanges[layer].shadowRadius[elevation]\n    };\n  };\n  return React.createElement(Animated.View, {\n    ref: ref,\n    style: [getStyleForShadowLayer(0), outerLayerViewStyles],\n    testID: testID + \"-outer-layer\"\n  }, React.createElement(Animated.View, {\n    style: [getStyleForShadowLayer(1), innerLayerViewStyles],\n    testID: testID + \"-inner-layer\"\n  }, React.createElement(Animated.View, _extends({}, props, {\n    testID: testID,\n    style: sharedStyle\n  }), children)));\n});\nexport default Surface;","map":{"version":3,"mappings":"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","names":["React","useInternalTheme","overlay","isAnimatedValue","shadow","forwardRef","MD2Surface","ref","style","_ref","overrideTheme","theme","rest","StyleSheet","flatten","elevation","isDarkTheme","dark","mode","colors","Animated","View","backgroundColor","surface","Surface","_ref2","children","overridenTheme","testID","props","isV3","inputRange","interpolate","outputRange","map","_colors$elevation","_colors$elevation2","Platform","OS","elevationLevel","getElevationAndroid","margin","padding","transform","borderRadius","outerLayerStyles","sharedStyle","iOSShadowOutputRanges","shadowOpacity","height","shadowRadius","shadowColor","position","alignSelf","top","left","right","bottom","start","end","flex","restStyle","absoluteStyles","innerLayerViewStyles","outerLayerViewStyles","getStyleForAnimatedShadowLayer","layer","extrapolate","shadowOffset","width","getStyleForShadowLayer"],"sourceRoot":"../../src","sources":["Surface.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}