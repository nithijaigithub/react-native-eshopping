{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Product } from \"../components/product.js\";\nimport { getProductsByCategory } from \"../services/productService.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function ProductList(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  function renderProduct(_ref2) {\n    var product = _ref2.item;\n    return _jsx(Product, _objectSpread(_objectSpread({}, product), {}, {\n      onPress: function onPress() {\n        navigation.navigate('ProductDetails', {\n          productId: product.id\n        });\n      }\n    }));\n  }\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _route$params = route.params,\n    categoryId = _route$params.categoryId,\n    categoryName = _route$params.categoryName;\n  useEffect(function () {\n    console.log(route);\n    setIsLoading(true);\n    setTimeout(function () {\n      setProducts(getProductsByCategory(categoryId));\n      setIsLoading(true);\n    }, 1000);\n    navigation.setOptions({\n      title: categoryName\n    });\n  }, [categoryId, navigation]);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(Text, {\n      children: [\"Home \", categoryName]\n    }), isLoading && products ? _jsx(View, {\n      style: [styles.indicatorContainer, styles.indicatorHorizontal],\n      children: _jsx(ActivityIndicator, {\n        size: \"large\"\n      })\n    }) : _jsx(FlatList, {\n      style: styles.productsList,\n      contentContainerStyle: styles.productsListContainer,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      data: products,\n      renderItem: renderProduct\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  productsList: {\n    backgroundColor: '#eeeeee'\n  },\n  productsListContainer: {\n    backgroundColor: '#eeeeee',\n    paddingVertical: 8,\n    marginHorizontal: 8\n  },\n  indicatorContainer: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  indicatorHorizontal: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Product","getProductsByCategory","ProductList","navigation","route","renderProduct","product","item","navigate","productId","id","products","setProducts","isLoading","setIsLoading","params","categoryId","categoryName","console","log","setTimeout","setOptions","title","styles","indicatorContainer","indicatorHorizontal","productsList","productsListContainer","toString","StyleSheet","create","backgroundColor","paddingVertical","marginHorizontal","flex","justifyContent","flexDirection","padding"],"sources":["C:/Users/jnithyan/Development/react-native/eshopping/screens/ProductList.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { View, Text, FlatList, StyleSheet, ActivityIndicator } from 'react-native';\r\n\r\nimport { Product } from '../components/product.js';\r\nimport { getProductsByCategory } from '../services/productService.js';\r\n\r\nexport function ProductList ({navigation, route}) {\r\n\r\n  function renderProduct({item: product}) {\r\n    return (\r\n      <Product {...product} \r\n      onPress={() => {\r\n        navigation.navigate('ProductDetails', {\r\n          productId: product.id,\r\n        });\r\n      }}\r\n      />\r\n    );\r\n  }\r\n  \r\n  const [products, setProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { categoryId, categoryName } = route.params;\r\n\r\n  useEffect(() => {\r\n    console.log(route);\r\n    setIsLoading(true);\r\n    setTimeout(() => {\r\n        setProducts(getProductsByCategory(categoryId));\r\n        setIsLoading(true);\r\n    }, 1000)\r\n    // setProducts(getProductsByCategory(categoryId));\r\n    navigation.setOptions({\r\n        title: categoryName,\r\n    });\r\n  }, [categoryId, navigation]);\r\n  \r\n  return (\r\n    <>\r\n    <Text>Home {categoryName}</Text>\r\n    {isLoading && products ? \r\n        <View style={[styles.indicatorContainer, styles.indicatorHorizontal]}>\r\n        <ActivityIndicator size=\"large\" />\r\n        </View> : \r\n    <FlatList\r\n      style={styles.productsList}\r\n      contentContainerStyle={styles.productsListContainer}\r\n      keyExtractor={(item) => item.id.toString()}\r\n      data={products}\r\n      renderItem={renderProduct}\r\n    /> }\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  productsList: {\r\n    backgroundColor: '#eeeeee',\r\n  },\r\n  productsListContainer: {\r\n    backgroundColor: '#eeeeee',\r\n    paddingVertical: 8,\r\n    marginHorizontal: 8,\r\n  },\r\n  indicatorContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  indicatorHorizontal: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    padding: 10,\r\n  },\r\n});"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAGjD,SAASC,OAAO;AAChB,SAASC,qBAAqB;AAAwC;AAAA;AAAA;AAEtE,OAAO,SAASC,WAAW,OAAuB;EAAA,IAApBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EAE7C,SAASC,aAAa,QAAkB;IAAA,IAAVC,OAAO,SAAbC,IAAI;IAC1B,OACE,KAAC,OAAO,kCAAKD,OAAO;MACpB,OAAO,EAAE,mBAAM;QACbH,UAAU,CAACK,QAAQ,CAAC,gBAAgB,EAAE;UACpCC,SAAS,EAAEH,OAAO,CAACI;QACrB,CAAC,CAAC;MACJ;IAAE,GACA;EAEN;EAEA,gBAAgCX,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCY,QAAQ;IAAEC,WAAW;EAC5B,iBAAkCb,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1Cc,SAAS;IAAEC,YAAY;EAC9B,oBAAqCV,KAAK,CAACW,MAAM;IAAzCC,UAAU,iBAAVA,UAAU;IAAEC,YAAY,iBAAZA,YAAY;EAEhCnB,SAAS,CAAC,YAAM;IACdoB,OAAO,CAACC,GAAG,CAACf,KAAK,CAAC;IAClBU,YAAY,CAAC,IAAI,CAAC;IAClBM,UAAU,CAAC,YAAM;MACbR,WAAW,CAACX,qBAAqB,CAACe,UAAU,CAAC,CAAC;MAC9CF,YAAY,CAAC,IAAI,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC;IAERX,UAAU,CAACkB,UAAU,CAAC;MAClBC,KAAK,EAAEL;IACX,CAAC,CAAC;EACJ,CAAC,EAAE,CAACD,UAAU,EAAEb,UAAU,CAAC,CAAC;EAE5B,OACE;IAAA,WACA,MAAC,IAAI;MAAA,WAAC,OAAK,EAACc,YAAY;IAAA,EAAQ,EAC/BJ,SAAS,IAAIF,QAAQ,GAClB,KAAC,IAAI;MAAC,KAAK,EAAE,CAACY,MAAM,CAACC,kBAAkB,EAAED,MAAM,CAACE,mBAAmB,CAAE;MAAA,UACrE,KAAC,iBAAiB;QAAC,IAAI,EAAC;MAAO;IAAG,EAC3B,GACX,KAAC,QAAQ;MACP,KAAK,EAAEF,MAAM,CAACG,YAAa;MAC3B,qBAAqB,EAAEH,MAAM,CAACI,qBAAsB;MACpD,YAAY,EAAE,sBAACpB,IAAI;QAAA,OAAKA,IAAI,CAACG,EAAE,CAACkB,QAAQ,EAAE;MAAA,CAAC;MAC3C,IAAI,EAAEjB,QAAS;MACf,UAAU,EAAEN;IAAc,EAC1B;EAAA,EACC;AAEP;AAEA,IAAMkB,MAAM,GAAGM,UAAU,CAACC,MAAM,CAAC;EAC/BJ,YAAY,EAAE;IACZK,eAAe,EAAE;EACnB,CAAC;EACDJ,qBAAqB,EAAE;IACrBI,eAAe,EAAE,SAAS;IAC1BC,eAAe,EAAE,CAAC;IAClBC,gBAAgB,EAAE;EACpB,CAAC;EACDT,kBAAkB,EAAE;IAClBU,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE;EAClB,CAAC;EACDV,mBAAmB,EAAE;IACnBW,aAAa,EAAE,KAAK;IACpBD,cAAc,EAAE,cAAc;IAC9BE,OAAO,EAAE;EACX;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}